<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="Guowei Lv">
<meta name="generator" content="Hugo 0.25.1" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="http://lvguowei.me/css/style.css" type="text/css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type="text/css">
<link rel="alternate" href="http://lvguowei.me/index.xml" type="application/rss+xml" title="Guowei Lv">
<title>Guowei Lv</title>
</head>
<body>

<header>
  <div class="container clearfix">
    <a class="path" href="http://lvguowei.me/">[Guowei Lv]</a>
    <span class="caret"># _</span>
    <div class="right">
      
    </div>
  </div>
</header>

<div class="container">



<main role="main" class="homepage">

  <h1 class="site-title">
  <span class="base05">[</span><span class="base08">吕</span><span class="base09">国</span><span class="base0a">威</span><span class="base0b">的</span><span class="base0c">网</span><span class="base0d">站</span><span class="base05">]</span>
  <span class="base05"># _</span>
</h1>

<div class="hero-logo">
  <img src="http://lvguowei.me/img/base16-eighties.svg">
</div>


  <h1 class="headline">Recent Posts</h1>

  <div class="article-list">
    
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/all-you-need-to-know-about-android-espresso-testing-4/">All You Need To Know About Android Espresso Testing (Part IV)</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-07-21">July 21, 2017</time></span>

  </div>
  <section class="summary">
    In previous article, we talked about how to scroll to a certain position in RecyclerView in the test. In this article, we further discuss how to write a custom matcher and use it to scroll the RecyclerView.
Let&rsquo;s say that we want to scroll to certain item in RecyclerView, but we don&rsquo;t know the position. We can then create a custom Matcher, and use the matcher to determine which item to scroll to.  <a href="http://lvguowei.me/post/all-you-need-to-know-about-android-espresso-testing-4/">Read More...</a>
  </section>
</article>

    
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/all-you-need-to-know-about-android-espresso-testing-3/">All You Need To Know About Android Espresso Testing (Part III)</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-07-21">July 21, 2017</time></span>

  </div>
  <section class="summary">
    In part II, we wrote a test case to verify that the app can create a task and the task will be seen on the screen. In this part III, we will demonstrate one technique on writing tests that involves a RecyclerView.
First we repeatly add some tasks, and then we verify that the last added task is on display. Note that since we are using a RecyclerView, the last item might not be seen, so we need to scroll the RecyclerView before checking.  <a href="http://lvguowei.me/post/all-you-need-to-know-about-android-espresso-testing-3/">Read More...</a>
  </section>
</article>

    
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/all-you-need-to-know-about-android-espresso-testing-2/">All You Need To Know About Android Espresso Testing (Part II)</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-07-21">July 21, 2017</time></span>

  </div>
  <section class="summary">
    In Part I we talked about how to setup Espresso testing framework, what is the activity testing rule and how to use uiautomatorviewer to help us find id of the view quickly.
In this Part II, we will write some tests against a simple TODO list application. Lets get started.
About the App under test This is a very simple app with basically 2 screens. One to display a list of tasks:  <a href="http://lvguowei.me/post/all-you-need-to-know-about-android-espresso-testing-2/">Read More...</a>
  </section>
</article>

    
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/how-to-follow-hand-made-hero-on-linux/">How To Follow Hand Made Hero On Linux</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-07-20">July 20, 2017</time></span>

  </div>
  <section class="summary">
    If you are a Linux person and you want to follow the awesome Hand Made Hero, here are how I am doing it(on Arch Linux).
 Install VirtualBox. Create a Windows virtual machine(at least Win7 + SP1, you can download a ISO image from here), pay attention to the hard drive size, 25G is too small, increase it to like 50G at least. In order to make the full scren mode work, we have to install something called Guest Addition.  <a href="http://lvguowei.me/post/how-to-follow-hand-made-hero-on-linux/">Read More...</a>
  </section>
</article>

    
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/all-you-need-to-know-about-android-espresso-testing/">All You Need To Know About Android Espresso Testing (Part I)</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-07-13">July 13, 2017</time></span>

  </div>
  <section class="summary">
    The Espresso testing framework really makes it easy to write UI tests for Android. In this first installment, I will go through how to set it up and write our first test case.
Let&rsquo;s get started.
Set up Espresso Add the following dependencies to your gradle build file.
dependencies { // Other dependencies ... androidTestCompile &#39;com.android.support.test.espresso:espresso-core:2.2.2&#39; }  Understand the Rules in JUnit Why do they exist? We all know that in JUnit there is a setup method(annotated as @Before) and a teardown method(annotated as @After).  <a href="http://lvguowei.me/post/all-you-need-to-know-about-android-espresso-testing/">Read More...</a>
  </section>
</article>

    
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/android-emulator-problem-in-arch-linux/">Android Emulator Problem In Arch Linux</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-07-12">July 12, 2017</time></span>

  </div>
  <section class="summary">
    I don&rsquo;t remember since when, but now whenever I upgrade Android Studio from pacman, I cannot open my emulator, with some libGL error: unable to load driver: i965_dri.so error.
I tried to follow the solution online but found none of them is working out of the box, because Android Sdk changed some paths. Here is what actualy works now:
 cd ANDROID_SDK_PATH/emulator/lib64/libstdc++/ mv libstdc++.so.6 libstdc++.so.6.bak ln -s /usr/lib64/libstdc++.so.6 libstdc++.so.6   
  </section>
</article>

    
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/rxjava-fromcallable-vs-defer/">Rxjava fromCallable() Vs defer()</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-07-11">July 11, 2017</time></span>

  </div>
  <section class="summary">
    In this post we talk about how to use Observable.fromCallable() and Observable.defer() to convert exising functionality into the Rx.
Imagine that you have a UserService class, in it there is a getUserFromDb() function. This function is developed before RxJava and cannot be changed. But somehow you need a function which returns a Observable&lt;User&gt;. What could you do?
The UserService Example public class UserService { /** * Gets User from database, this should not be run in UI thread.  <a href="http://lvguowei.me/post/rxjava-fromcallable-vs-defer/">Read More...</a>
  </section>
</article>

    
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/android-custom-view-101-5/">Android Custom View 101 (Part V)</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-07-09">July 09, 2017</time></span>

  </div>
  <section class="summary">
    In this post, we will discuss how to implement a custom view group by extending an existing one, like a FrameLayout.
Let&rsquo;s assume that we are building a layout for displaying user&rsquo;s avatar. The requirement is if a user has an avatar, show the avatar picture, if not, show their initials as text.
So it would be good if we have some kind of AvatarView and Avatar data class (which contains name and avatar picture).  <a href="http://lvguowei.me/post/android-custom-view-101-5/">Read More...</a>
  </section>
</article>

    
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/android-custom-view-101-4/">Android Custom Views 101 (Part IV)</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-07-09">July 09, 2017</time></span>

  </div>
  <section class="summary">
    In this installment, we talk about how to implement custom view group.
There are two ways of doing custom view groups: 1. Extends an existing ViewGroup, like LinearLayout or FrameLayout. 2. Extends the base ViewGroup class.
Normally, the first way will do the trick. But in this post, we are talking about the second one.
Basically you have to implement both onMeasure() and onLayout().
The details are kind of straightforward, take a look at the commented source code 
  </section>
</article>

    
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/android-custom-views-101-3/">Android Custom Views 101 (Part III)</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-07-08">July 08, 2017</time></span>

  </div>
  <section class="summary">
    In this post, we finally gonna take a look at how to implement onMeasure() properly.
When implementing a custom view, we should always consider its lower and upper size limit. In this case since the format of the time is fixed (hh:mm:ss). So we just need to get the width and height of it.
Suppose we set the MAX_TIME = &quot;00:00:00&quot;, then to get its width in pixel we can do:  <a href="http://lvguowei.me/post/android-custom-views-101-3/">Read More...</a>
  </section>
</article>

    
  </div>

  

  <h1 class="headline">Categories</h1>

  <section class="categories">
    
    <h2 class="category">
      <a href="http://lvguowei.me/categories/finnish-learning">Finnish-Learning</a>
      <small>(10)</small>
    </h2>
    
    <h2 class="category">
      <a href="http://lvguowei.me/categories/fragrance">Fragrance</a>
      <small>(1)</small>
    </h2>
    
    <h2 class="category">
      <a href="http://lvguowei.me/categories/misc">Misc</a>
      <small>(1)</small>
    </h2>
    
    <h2 class="category">
      <a href="http://lvguowei.me/categories/painting">Painting</a>
      <small>(3)</small>
    </h2>
    
    <h2 class="category">
      <a href="http://lvguowei.me/categories/programming">Programming</a>
      <small>(56)</small>
    </h2>
    
  </section>

  

  

  <h1 class="headline">Tags</h1>

  <section class="tags">
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/adventofcode">adventofcode</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/agile">agile</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/al-rehab">al-rehab</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/algorithms">algorithms</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/android">android</a>
      <small>(18)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/android-emulator">android-emulator</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/androidstudio">androidstudio</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/arabic">arabic</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/arch-linux">arch-linux</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/architecture">architecture</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/attar">attar</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/ayumi-hamasaki">ayumi-hamasaki</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/c&#43;&#43;">c&#43;&#43;</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/c&#43;&#43;-primer">c&#43;&#43;-primer</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/choco-musk">choco-musk</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/clojure">clojure</a>
      <small>(19)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/coding-challenge">coding-challenge</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/component">component</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/concurrent-programming">concurrent-programming</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/corel-painter">corel-painter</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/cpp">cpp</a>
      <small>(2)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/cpp-primer">cpp-primer</a>
      <small>(2)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/cursive">cursive</a>
      <small>(5)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/dagger2">dagger2</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/design-pattern">design-pattern</a>
      <small>(3)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/digital-painting">digital-painting</a>
      <small>(3)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/emacs">emacs</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/espresso">espresso</a>
      <small>(4)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/finnishpod101">finnishpod101</a>
      <small>(10)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/functional-programming">functional-programming</a>
      <small>(3)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/game-dev">game-dev</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/hand-made-hero">hand-made-hero</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/handmadehero">handmadehero</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/handwriting">handwriting</a>
      <small>(5)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/ittar">ittar</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/java">java</a>
      <small>(3)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/krita">krita</a>
      <small>(2)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/lambda">lambda</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/library">library</a>
      <small>(3)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/linux">linux</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/lisp">lisp</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/logic-programming">logic-programming</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/mastermind">mastermind</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/mocks">mocks</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/moomin">moomin</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/mumble">mumble</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/ood">ood</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/open-source">open-source</a>
      <small>(3)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/payroll">payroll</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/perfume-oil">perfume-oil</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/programming-kata">programming-kata</a>
      <small>(14)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/ranting">ranting</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/recursion">recursion</a>
      <small>(3)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/refactoring">refactoring</a>
      <small>(5)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/rxjava">rxjava</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/scheme">scheme</a>
      <small>(2)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/sicp">sicp</a>
      <small>(2)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/solid-principle">solid-principle</a>
      <small>(2)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/stubs">stubs</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/tdd">tdd</a>
      <small>(3)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/testing">testing</a>
      <small>(4)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/transducer">transducer</a>
      <small>(1)</small>
    </span>
    
    <span class="tag">
      <a href="http://lvguowei.me/tags/uncle-bob">uncle-bob</a>
      <small>(5)</small>
    </span>
    
  </section>

  

  
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-71831707-2', 'auto');
ga('send', 'pageview');
</script>


</main>



</div>
<footer>
  <div class="container">
    <span class="copyright">&copy; 2017  Guowei Lv</span>
  </div>
</footer>

</body>
</html>

