<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="Guowei Lv">
<meta name="generator" content="Hugo 0.19" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="http://lvguowei.me/css/style.css" type="text/css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type="text/css">
<link rel="alternate" href="http://lvguowei.me/index.xml" type="application/rss+xml" title="Guowei Lv">
<title>Posts - Guowei Lv</title>
</head>
<body>

<header>
  <div class="container clearfix">
    <a class="path" href="http://lvguowei.me/">[Guowei Lv]</a>
    <span class="caret"># _</span>
    <div class="right">
      
    </div>
  </div>
</header>

<div class="container">

<main role="main" class="article-list">
  <h1 class="list-title">Posts</h1>
  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/mock-objects-dimistified/">Mock Objects Demystified</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-03-20">March 20, 2017</time></span>

  </div>
  <section class="summary">
    If you have ever tried writing any non trivial tests, mocks should not be a stranger to you. But what about some other &ldquo;mock&rdquo; like objects like stubs, spies and such? How are they different from each other? In this blog post, I will explain it as simple and easy to remember as possible.
Everything is a test double. Test double is just a general name for all mock like objects.  <a href="http://lvguowei.me/post/mock-objects-dimistified/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/programming-kata-day-13/">Programming Kata Day 13</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-03-06">March 06, 2017</time></span>

  </div>
  <section class="summary">
    Problem The elevator can be on first floor or second floor The elevator can be either openned or closed. The elevator can go up or down. But when it goes up or down, the door has to be closed. The door can open or close, but it cannot open when it is already openned or close when it is already closed.
Write a function that takes a list of actions with :done indicating the end, and return if this sequence is legal or not.  <a href="http://lvguowei.me/post/programming-kata-day-13/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/clojure-tail-recursion/">Clojure Tail Recursion</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-27">February 27, 2017</time></span>

  </div>
  <section class="summary">
    What this recur and tail calls optimization is all about in Clojure? This blog post is trying to give a short yet easy to remember explanation.
Before explaining anything, let&rsquo;s look at how we can implement + using recursion.
This is actually an interesting task, implement our +, since most of the time + is a built-in function. So to make things a bit more clear, let&rsquo;s assume that our computer is drunk and forgets about how to do +, but it still remembers how to increment and decrement by 1.  <a href="http://lvguowei.me/post/clojure-tail-recursion/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/programming-kata-day-12/">programming kata day 12</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-26">February 26, 2017</time></span>

  </div>
  <section class="summary">
     Problem Implement a unit converter that uses the given the following metric
(def metric {:meter 1 :km 1000 :cm 1/100 :mm [1/10 :cm]})  The converter should anwser questions like:
How many meters are there in 10 km and 20 cm?
Solution (defn convert [context descriptor] (reduce (fn [result [mag unit]] (let [val (metric unit)] (if (vector? val) (+ result (* mag (convert context val))) (+ result (* mag val))))) 0 (partition 2 descriptor))) (convert metric [1 :meter]) (convert metric [3 :km 10 :meter])   
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/programming-kata-day-11/">programming kata day 11</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-25">February 25, 2017</time></span>

  </div>
  <section class="summary">
    Problem This coding adventure comes from Advend Of Code Day 2
Solution Github 
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/named-arguments-in-clojure/">Named Arguments In Clojure</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-24">February 24, 2017</time></span>

  </div>
  <section class="summary">
    Sometimes I miss the named arguments feature in Python, for example:
def slope(p1=(0,0), p2=(1,1)) return (float(p2[1] - p1[1])) / (p2[0] - p1[0]) =&gt; slope((1,2), (4,5)) =&gt; slope(p2=(2, 1))  The equivalent in clojure can be done using destructuring:
(defn slope [&amp; {:keys [p1 p2] :or {p1 [0 0] p2 [1 1]}}] (float (/ (- p2 1) (p1 1)) (- p2 0) (p1 0))) =&gt; (slope :p1 [1 2] :p2 [3 4]) =&gt; (slope :p2 [3 4]) =&gt; (slope)   
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/programming-kata-day-10/">programming kata day 10</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-23">February 23, 2017</time></span>

  </div>
  <section class="summary">
    Problem Here is a list of students&rsquo; exam scores. Write a function to sort them based on given criteria. Like Math first, then Physics and then chemistry and then English.
(def exam-scores [{:math 78 :physics 80 :english 97 :chemistry 65} {:math 78 :physics 80 :english 66 :chemistry 65} {:math 78 :physics 54 :english 97 :chemistry 65} {:math 78 :physics 80 :english 97 :chemistry 61} {:math 100 :physics 89 :english 47 :chemistry 85} {:math 98 :physics 80 :english 79 :chemistry 65}])  Solution (defn rank [scores &amp; criteria] (reverse  (sort-by  (fn [score] (mapv score criteria)) scores)))  Note The sort-by in Clojure is very powerful, the idea is to reduce each row into one value that we know how to sort, like numbers, strings or lists.  <a href="http://lvguowei.me/post/programming-kata-day-10/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/programming-kata-day-9/">Programming Kata Day 9</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-20">February 20, 2017</time></span>

  </div>
  <section class="summary">
    Problem This coding adventure comes from Advend Of Code Day 1
Solution Github 
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/programming-kata-day-8/">Programming Kata Day 8</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-18">February 18, 2017</time></span>

  </div>
  <section class="summary">
    Problem Write a function steps, that takes a sequence and makes a deeply nested structure from it:
(steps [1 2 3 4]) ;=&gt; [1 [2 [3 [4 []]]]]  Solution 1 (defn steps [s] (if (seq s) [(first s) (steps (rest s))] []))  Solution 2 Lazy version:
(defn lz-steps [s] (lazy-seq (if (seq s) [(first s) (lz-steps (rest s))] [])))  Note To see the difference, call the function like this:  <a href="http://lvguowei.me/post/programming-kata-day-8/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/programming-kata-day-7/">Programming Kata Day 7</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-17">February 17, 2017</time></span>

  </div>
  <section class="summary">
    Problem Suppose a binary tree structure looks like this:
{:val value :L &lt;left-node&gt; :R &lt;right-node&gt;}  Write a function to balance insert node into the tree.
Solution (defn insert [tree x] (cond (nil? tree) {:val x :L nil :R nil} (&lt; x (:val tree)) (assoc tree :L (insert (:L tree) x)) :else (assoc tree :R (insert (:R tree) x))))  Note Here is the function to traverse the tree:  <a href="http://lvguowei.me/post/programming-kata-day-7/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/programming-kata-day-6/">Programming Kata Day 6</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-15">February 15, 2017</time></span>

  </div>
  <section class="summary">
    Problem Write a function to determine if a vector contains a set of items.
Solution (defn containsv [v &amp; items] (some (set items) v))  Note Using a set as the predicate supplied to some allows you to check whether any of the truthy values in the set are contained within the given sequence. This is a frequently used Clojure idiom for searching for containment within a sequence. 
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/programming-kata-day-5/">programming kata day 5</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-13">February 13, 2017</time></span>

  </div>
  <section class="summary">
    Problem Write a function to determine if a number is a triangular number.
Solutions Solution 1 (defn nth-triangle [n] (apply + (range (inc n)))) (defn is-triangle-number [n] (loop [i 0] (cond (&gt; n (nth-triangle i)) (recur (inc i)) (= n (nth-triangle i)) true :else false)))  Solution 2 (defn is-triangle-number [n] (loop [tri 0 i 1] (cond (&gt; n tri) (recur (+ tri i) (inc i)) (= n tri) true :else false)))  Note Solution 1 is the first that came to my mind, but it has a typical problem: redundant calculation.  <a href="http://lvguowei.me/post/programming-kata-day-5/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/perfume-shop-puzzle/">Perfume Shop Puzzle</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-12">February 12, 2017</time></span>

  </div>
  <section class="summary">
    Solving hard puzzle programming challenges with logic programming is real fun. I solved one puzzle called &ldquo;Perfume Shop Puzzle&rdquo; by using the core.logic in Clojure. Check it out here: github. 
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/programming-kata-day-4/">Programming Kata Day 4</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-12">February 12, 2017</time></span>

  </div>
  <section class="summary">
     Problem Implement take-nth.
Solutions Solution 1 (defn my-take-nth [n col] (loop [i 0 result []] (if (= i (count col)) result (if (= 0 (mod i n)) (recur (inc i) (conj result (nth col i))) (recur (inc i) result)))))  solution 2 (defn my-take-nth2 [n col] (-&gt;&gt; col (map-indexed (fn [i x] [i x])) (filter (fn [[i x]] (= 0 (mod i 2)))) (mapv (fn [[i x]] x))))   
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/programming-kata-day-3/">programming kata day 3</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-10">February 10, 2017</time></span>

  </div>
  <section class="summary">
     Problem Trolls are attacking your comment section!
A common way to deal with this situation is to remove all of the vowels from the trolls&rsquo; comments, neutralizing the threat.
Your task is to write a function that takes a string and return a new string with all vowels removed.
For example, the string &ldquo;This website is for losers LOL!&rdquo; would become &ldquo;Ths wbst s fr lsrs LL!&rdquo;.
Solution Solution 1 (defn disemvowel [string] (reduce (fn [result next] (if (#{\A \E \I \O \U \a \e \i \o \u} next) result (str result next))) &quot;&quot; string))  Solution 2 (defn disemvowel [string] (apply str (remove (set &quot;AEIOUaeiou&quot;) string)))   
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/programming-kata-day-2/">Programming Kata Day 2</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-07">February 07, 2017</time></span>

  </div>
  <section class="summary">
    Problem: Write a function to calculate fibonacci number in constant space complexity.
(defn fib [n] (loop [a 0 b 1 i n] (if (= 0 i) a (recur b (+ a b) (dec i)))))   
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/programming-kata/">Programming Kata</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-06">February 06, 2017</time></span>

  </div>
  <section class="summary">
    From today, I will practice one programming kata per day and post the content here.
Here goes the first one:
 My friend John likes to go to the cinema. He can choose between system A and system B.
System A : buy a ticket (15 dollars) every time
System B : buy a card (500 dollars) and every time buy a ticket the price of which is 0.90 times the price he paid for the previous one.  <a href="http://lvguowei.me/post/programming-kata/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/nested-for-loops-in-clojure/">Nested For Loops in Clojure</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-03">February 03, 2017</time></span>

  </div>
  <section class="summary">
    One awkwardness I haven&rsquo;t really get rid of when using Clojure is for loops. Especially nested for loops that modifies some global variables. I find some solutions online where people use nested recursion or atoms, but can we just use one level of recursion? Let&rsquo;s try out with a coding kata.
Problem: Given an array of numbers, find the biggest sum of any two numbers. The same item in array cannot be used twice.  <a href="http://lvguowei.me/post/nested-for-loops-in-clojure/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/why-component-dependency-cycle-is-bad/">Why component dependency cycle is bad</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-01-01">January 01, 2017</time></span>

  </div>
  <section class="summary">
    I have been working on some Clojure project at work for several months now, one little thing bothers me now and then is that it doesn&rsquo;t allow dependency cycle in project. For example if a.clj requires b.clj, b.clj requires c.clj, then c.clj cannot require a.clj, in other words, c.clj cannot use anything inside a.clj.
At first, I thought this is a bit odd, java doesn&rsquo;t have that. And once in a while we have to solve such problems by creating a new namespace and move the common function into it.  <a href="http://lvguowei.me/post/why-component-dependency-cycle-is-bad/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/second-android-lib/">My Second Android Library</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-12-26">December 26, 2016</time></span>

  </div>
  <section class="summary">
    I published my second android library project, a date and time picker dialog that mimic the one in Google Map app.
Go check it out here!
  
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/first-android-lib/">My first Android library!</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-12-23">December 23, 2016</time></span>

  </div>
  <section class="summary">
    I published my first android library for creating customized progressbar.
Go check here!
  
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/stub-and-mock-harmful/">Are Stubs and Mocks Harmful?</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-12-18">December 18, 2016</time></span>

  </div>
  <section class="summary">
    I stumbled upon this video, and boy it is so amazing! (if you ignore the annoying audience asking non-stop some annoying questions). This is clearly one of the most inspiring videos I have ever watched. So I must take some notes down and spread the idea as well.
I deeply believe that it is actually easy to make things complicated, on the contrary, it is hard to make things simple and elegant.  <a href="http://lvguowei.me/post/stub-and-mock-harmful/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/coffee-maker/">Coffee Maker - An OOD case study</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-12-18">December 18, 2016</time></span>

  </div>
  <section class="summary">
    This case study is to show case how to design classes that interact with each other to form a component.
The problem is to implement a software component that controls a coffee maker.
Requirement  The Mark IV Special makes up to 12 cups of coffee at a time. The user places a filter in the filter holder, fills the filter with coffee grounds, and slides the filter holder into its receptacle.  <a href="http://lvguowei.me/post/coffee-maker/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/interface-segregation-principle-android-logger/">Use Interface Segregation Principle to Implement an Android Logger</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-12-08">December 08, 2016</time></span>

  </div>
  <section class="summary">
    Recently at work we has been talking about implementing some kind of Analytic interface for all the analytic libraries we are using, like Localytics and Firebase and so on. Basically it is just a fat interface with a long list of event logging functions, like logSignIn(), logSignOut(), logSellProduct(), logOpenMap() and so on. There are about 40 such methods in that interface. So this is how we implemented it in the first place.  <a href="http://lvguowei.me/post/interface-segregation-principle-android-logger/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/expense-report-case-study/">Expense Report Case Study</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-12-06">December 06, 2016</time></span>

  </div>
  <section class="summary">
    One day, I was watching another Uncle Bob&rsquo;s video (yes, they are addictive), when I see one example he gave when talking about open closed principle, it ringed a bell in my head. This looked familiar! The type in some data classes, some switchs or ifs, some &amp;&amp;s and ||s all dancing around in the class. I can almost hear them teasing: &ldquo;Come and catch me! Come and catch me!&rdquo;.  <a href="http://lvguowei.me/post/expense-report-case-study/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/painting-mumin/">Moomin</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-12-05">December 05, 2016</time></span>

  </div>
  <section class="summary">
    Moomin ~
  
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/painting-xpp/">Xpp</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-12-05">December 05, 2016</time></span>

  </div>
  <section class="summary">
    My wife ~
  
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/painting-ayumi/">Ayumi Hamasaki Portrait</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-12-05">December 05, 2016</time></span>

  </div>
  <section class="summary">
    Ayumi Hamasaki, painted by Krita ~
  
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/master-mind-TDD/">Master Mind in TDD</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-11-21">November 21, 2016</time></span>

  </div>
  <section class="summary">
    In one of Uncle Bob&rsquo;s video, he talked about this game called &ldquo;Master Mind&rdquo; when he was teaching Single Responsibility Principle(SRP). After googled the game, turns out that it is actually a quite famous board game. For more information about the game, please look here -&gt; wiki.
The game can be played by two people. One comes up with a code, the other one tries to guess. The one who comes up with the code has to score the guesser&rsquo;s guess based on some rules.  <a href="http://lvguowei.me/post/master-mind-TDD/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/payroll-case-study/">Payroll Case Study</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-11-20">November 20, 2016</time></span>

  </div>
  <section class="summary">
    I was watching some Uncle Bob video some day which talked about how to design the architecture of a system. In that video, he gave a case study of a payroll system, I found the souce code and it is actually implemented in C++, so I ported a Java version.
This is a very good example because it feels more realistic than most dummy demos out there. It also shows how to use POJO classes to layout the foundation without going too much into peripheral details like database.  <a href="http://lvguowei.me/post/payroll-case-study/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/Finnish-learning-diary-10/">Finnish learning diary 10</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-10-16">October 16, 2016</time></span>

  </div>
  <section class="summary">
       
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/Finnish-learning-diary-9/">Finnish learning diary 9</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-10-16">October 16, 2016</time></span>

  </div>
  <section class="summary">
       
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/replace-nested-conditional-with-guard-clauses/">Replace Nested Conditional With Guard Clauses</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-10-15">October 15, 2016</time></span>

  </div>
  <section class="summary">
    I couldn&rsquo;t remember who said that one of his favorite refactoring techniques is Replace Nested Conditional with Guard Clauses. When I looked into it, it did put a smile on my face despite its simplicity.
This is NOT about coding aesthetics, this is all about clarity.
 A method has conditional behavior that does not make clear the normal path of execution.
Use guard clauses for all the special cases.  <a href="http://lvguowei.me/post/replace-nested-conditional-with-guard-clauses/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/unidirectional-to-bidirectional/">Unidirectional to Bidirectional</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-10-15">October 15, 2016</time></span>

  </div>
  <section class="summary">
    It is very common in relational database that we have the following structure: A customer table has columns: customer-id, name. And an order table has columns: order-id, customer-id, order-date.
See that there is a customer-id in the order table, so that we can use it to get orders belongs to a certain customer. But there is no knowledge about the orders in customer table.
This is fine with database, but if we try to map this directly to java classes, we may end up with something like this:  <a href="http://lvguowei.me/post/unidirectional-to-bidirectional/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/duplicate-observed-data/">Duplicate Observed Data</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-10-15">October 15, 2016</time></span>

  </div>
  <section class="summary">
    This is from the famous Refactoring book by Martin Fowler. When I was reading it, it feels very similar to the very popular MVP or MVVM.
The key idea is that in system that has user interface, the business logic should be separated from the user interface.
One example I can think of is the registration form, where there are input fields like username, email, phone number and password. We can have some logic that disable the Register button until all fields are filled and the phone number and email valid.  <a href="http://lvguowei.me/post/duplicate-observed-data/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/choco-musk-review/">Choco Musk by Al Rehab</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-10-09">October 09, 2016</time></span>

  </div>
  <section class="summary">
    This is my first perfume oil/attar, I have to say I am quite impressed by it.
I adore oriental culture. I prefer sophiscation over simplicity.
I like dark, dense, rich scent, which shows marks of history. And I am very bored with the western happy and fresh mall scents, yet not satisfied by the so call &ldquo;oriental accord&rdquo; interpreted by western perfumery. So I went online and searched &ldquo;middle east perfume&rdquo;, and what I found truely suprised me.  <a href="http://lvguowei.me/post/choco-musk-review/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/Finnish-learning-diary-8/">Finnish learning diary 8</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-10-09">October 09, 2016</time></span>

  </div>
  <section class="summary">
         
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/Finnish-learning-diary-7/">Finnish learning diary 7</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-10-08">October 08, 2016</time></span>

  </div>
  <section class="summary">
       
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/Finnish-learning-diary-6/">Finnish learning diary 6</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-10-08">October 08, 2016</time></span>

  </div>
  <section class="summary">
    I am into improving my handwriting recently and have been practicing on cursive style quite a bit.
So I think maybe I can combine it with Finnish learning.
Now instead typing I write things down by hand.
  
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/good-taste/">Do you have a good taste of what you are doing?</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-10-08">October 08, 2016</time></span>

  </div>
  <section class="summary">
    There is this stereotype impression about technology industry, that it is a cruel game only for energetic and ambitious young men, when you get old, you will be kicked out mercilessly.
This doesn&rsquo;t bother me so much since I was still young a few years ago, but since now I am getting older it starts to act as a background noise that grabbed me more and more attention.
Is this the truth?  <a href="http://lvguowei.me/post/good-taste/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/matrix-concentric-shift/">matrix concentric shift</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-10-06">October 06, 2016</time></span>

  </div>
  <section class="summary">
    Table of Contents  1. Problem 2. Analysis 3. Source Code 4. Build script 5. How to run    I suck at algorithms, even though I have a Machine Learning and Algorithms master degree. It makes me frown everytime in coding interviews. So I decided to practice more often, hope that I can get better at it. At least not afraid of it. Now this is the first one.  <a href="http://lvguowei.me/post/matrix-concentric-shift/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/percy-jackson/">Percy Jackson Series</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-07-09">July 09, 2016</time></span>

  </div>
  <section class="summary">
    断断续续的看这个 Percy Jackson 系列已经有很长时间了，第一本和第二本都是在电子书上看完的，最近看到书店在打折，正好有全套在卖，就买了，现在正在看第四本。虽然封面是丑了一点，但是半价的话也就忍了先。 典型的少年读物，情节紧凑，到处都是怪物和神啊什么的，小孩看了应该很激动。不过练习英语还不错，生词量不多。这个是9岁+读物啊。。。 
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/Time-and-Space-of-Recursion/">Time and Space of Recursion</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-05-29">May 29, 2016</time></span>

  </div>
  <section class="summary">
    今天通过一个例子，来谈一谈第归的时间和空间效应。
例子很简单，计算 a 的 n 次方。
我们来对比一下两种第归算法的时间和空间的消耗。
第一个方法很直接。思想就是要计算 a 的 n 次方， 只要计算 a 的 (n - 1) 次方， 然后结果在乘以 a 。如下：
(define (expt a n) (if (= n 0) 1 (* a (expt a (- n 1)))))  为了更直观的理解这个算法，我们来计算一个例子， 2 的 3 次方。
(expt 2 3) (* 2 (expt 2 2)) (* 2 (* 2 (expt 2 1))) (* 2 (* 2 (* 2 (expt 2 0)))) (* 2 (* 2 (* 2 1))) (* 2 (* 2 2)) (* 2 4) 8  我们能能明显看到这个算法的“形状”是一个三角形。每一行代表一次计算，也可以理解成时间的消耗。而每一列则代表计算机需要记住的内容，比如说一共要乘以几个2，也可以理解成空间的消耗。我们可以看到，随着 n 的增大， 这个算法的时间和空间消耗也随之增大。而且增大的速度都是线性的。时间的消耗随着 n 的增大而增大很好理解， n 大了， 计算花的时间也相应长了。但是空间消耗可不可以不增大呢？下面我们就来看另一种算法。  <a href="http://lvguowei.me/post/Time-and-Space-of-Recursion/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/New-And-Old-For-Loop/">Old and New For Loop in C&#43;&#43;</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-05-15">May 15, 2016</time></span>

  </div>
  <section class="summary">
    The difference between the subscription based for loop and the newly introduced range based loop may be a bit confusing. Let&rsquo;s clear things up.
Here are some sample code:
void testFor() { cout &lt;&lt; &quot;--- For loop ---&quot; &lt;&lt; endl; string s(&quot;hello&quot;); // subscription can modify for (string::size_type i = 0; i &lt; s.size (); i++) { s[i] = toupper (s[i]); } cout &lt;&lt; s &lt;&lt; endl; vector&lt;int&gt; v {1, 2, 3}; // subscription can modify for (vector&lt;int&gt;::size_type i = 0; i &lt; v.  <a href="http://lvguowei.me/post/New-And-Old-For-Loop/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/cpp-answer-2-5-2/">C&#43;&#43; Primer Exercise Answer (Section 2.5.2)</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-05-08">May 08, 2016</time></span>

  </div>
  <section class="summary">
    #include &lt;iostream&gt; using namespace std; int main(int argc, char *argv[]) { int i = 0, &amp;r = i; auto a = r; const int ci = i, &amp;cr = ci; auto b = ci; auto c = cr; auto d = &amp;i; auto e = &amp;ci; const auto f = ci; auto &amp;g = ci; //auto &amp;h = 42; const auto &amp;j = 42; a = 42; // ok b = 42; // ok c = 42; // ok d = 42; // no, d is a pointer e = 42; // no, e is a pointer g = 42; // no, g is a reference cannot rebind return 0; }   
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/recursion-example/">Simple example of recursion</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-05-05">May 05, 2016</time></span>

  </div>
  <section class="summary">
    今天读到SICP里的一个介绍recursion的例子，用牛顿猜想来计算平方根。
首先，介绍了计算机程序和数学方程的区别。数学方程大多用的是描述法（declarative）。比如说这个平方根，数学上只需要说：
如果x的平方等于y，而且x大于0，那么x就是y的平方根。
这是一种很高层次的描述，通过描述，来限制答案的域。如果能直接用到计算机里，问题就简单了。大概写出来的程序就是这个样子：
func sqrt(x): @ * @ = x; @ &gt; 0; return @;  让计算机去处理计算细节。这当然是一种理想的情况，如果都能这样写程序，那就完事大吉了。这就叫描述性编程(Declarative Programming)。
当然现在还做不到这么绝对，所以我们只能自己写如何进行细节的计算来得到我们的结果。这就叫做命令式变成(Imperative Programming)。
总体来说，描述性编程比命令式编程要容易理解的多，因为不用自己下达命令给计算机，只需要对问题进行描述，计算机自己会找到答案。典型的例子就是xml配置文件，人们把对系统的需求和配置写在一个单独的xml文件里面，然后让计算机自己去执行相应的命令。
好了，现在进入正题。牛顿猜想的原理如下：
要计算x的平方根，先猜想一个答案y，然后用
(y + x / y) / 2
来得到新的优化过猜想。反复进行，知道得到满意的猜想。
首先，我们先来定义一些辅助方程。
(define (abs x) (if (&lt; x 0) (- x) x)) (define (square x) (* x x)) (define (average x y) (/ (+ x y) 2))  接下来我们来写主程序。
(define (sqrt-iter guess x) (if (good-enough? guess x) guess (sqrt-iter (improve guess x) x)))  这个程序用第归的方法实现了牛顿猜想。  <a href="http://lvguowei.me/post/recursion-example/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/keep-it-fun/">keep it fun</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-05-04">May 04, 2016</time></span>

  </div>
  <section class="summary">
    最近因为工作的原因在学clojure，其实我一直都想学一个LISP语言，现在终于有人付钱让我学啦，呵呵。
最早接触到LISP是因为Emacs。当年在研究生时给大学的自然语言研究组帮忙的时候，教授就是Emacs的资深（20年+）用户，我也就开始一点一点的接触了，后来经过一段时间的压迫性的苦练，终于入门了。有一天无意中发现了Emacs Lisp Intro，就开始学习emacs lisp，可惜半途而废了。
因为clojure还比较新，所以没有什么太多资料。我就买了一些关于LISP的经典书籍，比如这个 《Structure and Interpretation of Computer Programs》。但由于本人的拖延症的病情，所以打算从今天开始读第一章了（第二遍尝试）。。。
在开篇有一段引言如下：
 ``I think that it&rsquo;s extraordinarily important that we in computer science keep fun in computing. When it started out, it was an awful lot of fun. Of course, the paying customers got shafted every now and then, and after a while we began to take their complaints seriously. We began to feel as if we really were responsible for the successful, error-free perfect use of these machines.  <a href="http://lvguowei.me/post/keep-it-fun/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/Finnish-learning-diary-5/">Finnish learning diary 5</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-04-30">April 30, 2016</time></span>

  </div>
  <section class="summary">
    Table of Contents  1. Conversation 2. Vocabulary 3. Sample sentences    Conversation E: Tule jo!
H: Odota vähän, puen vain takin.
E: Jussi, anna tuo kirja.
J: Ole hyvä.
E: Kiitos.
J: Älä unohda huhelinta.
Vocabulary     Finnish English     odottaa to wait   vähän a bit   takki jacket, coat   tulla to come   puhelin telephone   jo already   pukea to put on clothes   vain only just   antaa to give   unohtaa to forget    Sample sentences     Finnish English     Odotan sinua puistossa.  <a href="http://lvguowei.me/post/Finnish-learning-diary-5/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/Finnish-learning-diary-4/">Finnish learning diary 4</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-04-30">April 30, 2016</time></span>

  </div>
  <section class="summary">
    Table of Contents  1. Conversation 2. Vocabulary 3. Sample sentances    Conversation E: Mitä sinä harrastat?
H: Soitan kitaraa ja uin. Entä sinä?
E: Minä pelaan sählya. Minä myös luen paljon.
H: Muuten, vieläkö luet tuota kirjaa?
E: En, luin sen jo.
Vocabulary     Finnish English     kitara guitar   uida swim   lukea to read   harrastaa to do as a hobby   kirja book   soittaa to play (instrument)   pelata to play (sports)   sähly floorball   paljon much, many   muuten by the way    Sample sentances     Finnish English     Ostan ensi vuonna uuden kitaran I will buy a new guitar next year   Monet rockmuusikot soittavat kitaraa.  <a href="http://lvguowei.me/post/Finnish-learning-diary-4/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/Finnish-learning-diary-3/">Finnish learning diary 3</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-04-30">April 30, 2016</time></span>

  </div>
  <section class="summary">
    Table of Contents  1. Conversation 2. Vocabulary 3. Sample sentences    Conversation H: Millainen sää tänään on?
J: En tiedä. Hetki, katson ennustetta.
H: Tarvitsenko sateenvarjoa?
J: Et tarvitse. Tänään ei sada.
H: Hyvä. En kaipaa sadetta.
Vocabulary     Finnish English     tänään today   hetki moment   sateenvarjo umbrella   millainen what kind of   sää weather   katsoa look   ennuste forecast   sataa rain   kaivata to need, to miss    Sample sentences     Finnish English     Olen tänään kiireinen I'm busy today   Hetki, tulen pian Just a moment, I'll come soon   Saisinko tuon sateenvarjon?  <a href="http://lvguowei.me/post/Finnish-learning-diary-3/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/Finnish-learning-diary-2/">Finnish learning diary 2</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-04-30">April 30, 2016</time></span>

  </div>
  <section class="summary">
    Table of Contents  1. Conversation 2. Vocabulary 3. Sample sentences    Conversation E: Maiju, tässä on Helen.
M: Hei!
E: Hei! Minä olen australialainen.
M: Oletko vaihto-oppilas?
H: Kyllä. Käyn suomalaista koulua.
M: Onko suomi vaikeaa?
H: Se on kovin erilaista kuin englanti.
Vocabulary     Finnish English Class     käydä to go, to visit v   suomalainen Finnish adj   kovin very adv   australialainen Australian adj   englantia English n   vaihto-oppilas exchange student n   suomi Finnish n   vaikea difficult adj   erilainen different adj   kuin than conj    Sample sentences     Finnish English     Haluan käydä joskus Keniassa.  <a href="http://lvguowei.me/post/Finnish-learning-diary-2/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/C&#43;&#43;-Primer-Answers/">C&#43;&#43; Primer Answers</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-04-30">April 30, 2016</time></span>

  </div>
  <section class="summary">
    Table of Contents  1. C++ Primer Exercises Answers  1.1. Section 2.3.1  1.1.1. Exercise 2.15 1.1.2. Exercise 2.16 1.1.3. Exercise 2.17   1.2. Section 2.3.2  1.2.1. Exercise 2.18 1.2.2. Exercise 2.20 1.2.3. Exercise 2.21   1.3. Section 2.4.2  1.3.1. Exercise 2.27   1.4. Section 2.4.3  1.4.1. Exercise 2.30        C++ Primer Exercises Answers Section 2.3.1 Exercise 2.  <a href="http://lvguowei.me/post/C&#43;&#43;-Primer-Answers/">Read More...</a>
  </section>
</article>

  
    
<article class="list-item" itemscope itemtype="http://schema.org/Blog">
  <h2 class="headline" itemprop="headline"><a href="http://lvguowei.me/post/Finnish-learning-diary-1/">Finnish learning diary 1</a></h2>
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2016-04-30">April 30, 2016</time></span>

  </div>
  <section class="summary">
    Table of Contents  1. Conversation 2. Vocabulary 3. Sample sentences 4. Vocabulary phrase usage  4.1. &#x2026;n vieressä ("next to&#x2026;") 4.2. isoäiti and other family terms   5. Grammar  5.1. Genitive cases 5.2. k-p-t cases 5.3. -t becomes -d      Conversation H: Kuka tämä on?
E: Se on isoäiti. Isoäidin vieressä on isän veli.
H: Kuka tuo on?
E: Se on isän sisko.  <a href="http://lvguowei.me/post/Finnish-learning-diary-1/">Read More...</a>
  </section>
</article>

  
</main>

</div>
<footer>
  <div class="container">
    <span class="copyright">&copy; 2017  Guowei Lv</span>
  </div>
</footer>

</body>
</html>

