<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="Guowei Lv">
<meta name="generator" content="Hugo 0.24.1" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="http://lvguowei.me/css/style.css" type="text/css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type="text/css">
<link rel="alternate" href="http://lvguowei.me/index.xml" type="application/rss+xml" title="Guowei Lv">
<title>Programming Kata - Guowei Lv</title>
</head>
<body>

<header>
  <div class="container clearfix">
    <a class="path" href="http://lvguowei.me/">[Guowei Lv]</a>
    <span class="caret"># _</span>
    <div class="right">
      
    </div>
  </div>
</header>

<div class="container">


<main role="main" class="article">
  
<article class="single" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-06">February 06, 2017</time></span>


    <span class="key">in</span>
    <span class="val">

        <a href="http://lvguowei.me/categories/programming">programming</a>

    </span>


    <br>
    <span class="key">tags:</span>
    <span class="val">

        <a href="http://lvguowei.me/tags/clojure">clojure</a>

        <a href="http://lvguowei.me/tags/programming-kata">programming kata</a>

    </span>

  </div>
  <h1 class="headline" itemprop="headline">Programming Kata</h1>
  <section class="body" itemprop="articleBody">
    <p>From today, I will practice one programming kata per day and post the content here.</p>

<p>Here goes the first one:</p>

<blockquote>
<p>My friend John likes to go to the cinema. He can choose between system A and system B.</p>

<p>System A : buy a ticket (15 dollars) every time</p>

<p>System B : buy a card (500 dollars) and every time
buy a ticket the price of which is 0.90 times the price he paid for the previous one.</p>

<p>Example:</p>

<p>System A : 15 * 3 = 45</p>

<p>System B : 500 + 15 * 0.90 + (15 * 0.90) * 0.90 + (15 * 0.90 * 0.90) * 0.90 ( = 536.5849999999999, no rounding for each ticket)</p>

<p>John wants to know how many times he must go to the cinema so that the final result of System B, when rounded up to the next dollar, will be cheaper than System A.</p>
</blockquote>

<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span></span><span class="p">(</span><span class="kd">defn </span><span class="nv">movie</span> <span class="p">[</span><span class="nv">card</span> <span class="nv">ticket</span> <span class="nv">perc</span><span class="p">]</span>
  <span class="p">(</span><span class="k">loop </span><span class="p">[</span><span class="nv">n</span> <span class="mi">1</span>
         <span class="nv">b-price</span> <span class="p">(</span><span class="nb">* </span><span class="nv">ticket</span> <span class="nv">perc</span><span class="p">)]</span>
    <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="nb">&lt; </span><span class="p">(</span><span class="nf">Math/ceil</span> <span class="p">(</span><span class="nb">+ </span><span class="nv">card</span> <span class="nv">b-price</span><span class="p">))</span> <span class="p">(</span><span class="nb">* </span><span class="nv">ticket</span> <span class="nv">n</span><span class="p">))</span>
      <span class="nv">n</span>
      <span class="p">(</span><span class="nf">recur</span> <span class="p">(</span><span class="nb">inc </span><span class="nv">n</span><span class="p">)</span> <span class="p">(</span><span class="nb">+ </span><span class="nv">b-price</span> <span class="p">(</span><span class="nb">* </span><span class="nv">ticket</span> <span class="p">(</span><span class="nf">Math/pow</span> <span class="nv">perc</span> <span class="p">(</span><span class="nb">inc </span><span class="nv">n</span><span class="p">))))))))</span>
</code></pre></div>


  </section>

  <br/>

  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'lvguoweime';
    var disqus_identifier = 'http:\/\/lvguowei.me\/post\/programming-kata\/';
    var disqus_title = 'Programming Kata';
    var disqus_url = 'http:\/\/lvguowei.me\/post\/programming-kata\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</article>

</main>


</div>
<footer>
  <div class="container">
    <span class="copyright">&copy; 2017  Guowei Lv</span>
  </div>
</footer>

</body>
</html>

